<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sample</title>
  <!-- import jQuery -->
  <script src='http://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
</head>

<body>
  <!-- The core Firebase JS SDK is always required and must be listed first -->
  <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-database.js"></script>

  <!-- TODO: Add SDKs for Firebase products that you want to use
       https://firebase.google.com/docs/web/setup#available-libraries -->
  <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-analytics.js"></script>

  <script>
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyBhfu4HWRrv555vjbPeNcK6xC4MVhiw9K8",
      authDomain: "navi-test000.firebaseapp.com",
      databaseURL: "https://navi-test000.firebaseio.com",
      projectId: "navi-test000",
      storageBucket: "navi-test000.appspot.com",
      messagingSenderId: "447844480898",
      appId: "1:447844480898:web:03faae0a468c92fb51c19b",
      measurementId: "G-WKYW19730K"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    firebase.analytics();

    const database = firebase.database();

    const buttonAction = () => {
      console.log('clicked!');

      const now = new Date();
      const Y = now.getFullYear();
      const M = ('0' + (now.getMonth() + 1)).slice(-2);
      const D = ('0' + now.getDate()).slice(-2);
      const h = ('0' + now.getHours()).slice(-2);
      const m = ('0' + now.getMinutes()).slice(-2);
      const s = ('0' + now.getSeconds()).slice(-2);

      const ref = database.ref('comments');
      ref.push({
        name: '山田',
        content: 'コメントの内容',
        time: Y + '/' + M + '/' + D + '/' + h + ':' + m + ':' + s
      });
    }
  </script>

  <h1>Firebase Sample</h1>
  <p>データベースを触るためのサンプル</p>
  <p>下のボタンを押すとデータベースに値を追加できる</p>
  <button id="btn" onclick="buttonAction()">ボタン</button>
</body>
</html>
